<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GCP Terraform Architecture ‚Äì Presentation</title>
  <style>
    :root {
      --bg: #0b1220;
      --panel: #101a33;
      --card: #0f1a2b;
      --text: #e8eefc;
      --muted: rgba(232, 238, 252, 0.72);
      --border: rgba(232, 238, 252, 0.12);
      --accent: #7c3aed;
      --accent2: #22c55e;
      --warn: #f59e0b;
      --danger: #ef4444;
      --info: #38bdf8;
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: "Segoe UI", Roboto, Arial, sans-serif;
      background: radial-gradient(1200px 800px at 10% 0%, #1a2b6d 0%, var(--bg) 60%),
                  radial-gradient(900px 600px at 90% 10%, #3b1a6d 0%, rgba(11,18,32,0) 55%);
      color: var(--text);
      min-height: 100vh;
    }

    .container {
      max-width: 1400px;
      margin: 18px auto;
      padding: 0 14px 18px;
    }

    .header {
      background: linear-gradient(135deg, rgba(124,58,237,0.22) 0%, rgba(56,189,248,0.18) 60%, rgba(34,197,94,0.12) 100%);
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 18px 18px 14px;
      backdrop-filter: blur(10px);
    }

    .title-row {
      display: flex;
      gap: 14px;
      align-items: baseline;
      justify-content: space-between;
      flex-wrap: wrap;
    }

    h1 {
      margin: 0;
      font-size: 26px;
      letter-spacing: 0.2px;
    }
    .subtitle {
      margin: 6px 0 0;
      color: var(--muted);
      font-size: 14px;
      line-height: 1.45;
    }

    .pills {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }
    .pill {
      border: 1px solid var(--border);
      background: rgba(16, 26, 51, 0.55);
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 12px;
      color: var(--muted);
      white-space: nowrap;
    }
    .pill strong { color: var(--text); font-weight: 600; }

    .tabs {
      margin-top: 14px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    .tab-btn {
      border: 1px solid var(--border);
      background: rgba(16, 26, 51, 0.55);
      color: var(--muted);
      padding: 10px 12px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 600;
      font-size: 13px;
      transition: transform 120ms ease, border-color 120ms ease, background 120ms ease;
    }
    .tab-btn:hover {
      transform: translateY(-1px);
      border-color: rgba(232, 238, 252, 0.22);
      color: var(--text);
    }
    .tab-btn.active {
      background: rgba(124, 58, 237, 0.22);
      border-color: rgba(124, 58, 237, 0.55);
      color: var(--text);
    }

    .content {
      margin-top: 14px;
      border: 1px solid var(--border);
      background: rgba(16, 26, 51, 0.55);
      border-radius: 14px;
      overflow: hidden;
    }
    .tab {
      display: none;
      padding: 16px;
    }
    .tab.active { display: block; }

    .grid {
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 12px;
    }

    .card {
      border: 1px solid var(--border);
      background: rgba(15, 26, 43, 0.78);
      border-radius: 12px;
      padding: 14px;
    }

    .card h2 {
      margin: 0 0 8px;
      font-size: 16px;
    }
    .card p, .card li {
      color: var(--muted);
      font-size: 13px;
      line-height: 1.55;
    }
    .card ul { margin: 8px 0 0 18px; }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      border: 1px solid var(--border);
      padding: 4px 8px;
      border-radius: 999px;
      font-size: 12px;
      color: var(--muted);
      background: rgba(16, 26, 51, 0.4);
    }
    .dot { width: 8px; height: 8px; border-radius: 999px; display: inline-block; }
    .dot.ok { background: var(--accent2); }
    .dot.warn { background: var(--warn); }
    .dot.info { background: var(--info); }

    .iframe-wrap {
      height: min(78vh, 820px);
      border-radius: 12px;
      overflow: hidden;
      border: 1px solid var(--border);
      background: #0b1020;
    }
    iframe {
      width: 100%;
      height: 100%;
      border: 0;
      background: #ffffff;
    }

    .two-col {
      display: grid;
      grid-template-columns: 1.2fr 0.8fr;
      gap: 12px;
    }
    @media (max-width: 980px) {
      .two-col { grid-template-columns: 1fr; }
      .iframe-wrap { height: 70vh; }
    }

    code {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Courier New", monospace;
      font-size: 12px;
      color: #c7d2fe;
      background: rgba(124,58,237,0.14);
      border: 1px solid rgba(124,58,237,0.22);
      padding: 2px 6px;
      border-radius: 8px;
      white-space: nowrap;
    }
    .kbd {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Courier New", monospace;
      font-size: 12px;
      padding: 2px 6px;
      border-radius: 6px;
      border: 1px solid var(--border);
      background: rgba(16, 26, 51, 0.6);
      color: var(--text);
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="title-row">
        <div>
          <h1>GCP Terraform Infrastructure ‚Äì Architecture Presentation</h1>
          <p class="subtitle">
            Enterprise multi-environment setup using <b>Individual VPC pattern</b> with <b>shared Workload Identity Federation (WIF)</b>.
            Built for screen-share demos: clear diagram + tabs for end‚Äëto‚Äëend flow, security, and talking points.
          </p>
        </div>
        <div class="pills">
          <div class="pill"><strong>Project</strong>: praxis-gear-483220-k4</div>
          <div class="pill"><strong>State</strong>: GCS backend</div>
          <div class="pill"><strong>CI/CD</strong>: GitHub Actions + WIF</div>
        </div>
      </div>

      <div class="tabs" role="tablist" aria-label="Presentation tabs">
        <button class="tab-btn active" data-tab="tab-diagram">Diagram</button>
        <button class="tab-btn" data-tab="tab-flow">End-to-end flow</button>
        <button class="tab-btn" data-tab="tab-env">Environments</button>
        <button class="tab-btn" data-tab="tab-security">Security</button>
        <button class="tab-btn" data-tab="tab-notes">Presenter notes</button>
      </div>
    </div>

    <div class="content">
      <section id="tab-diagram" class="tab active">
        <div class="two-col">
          <div>
            <div class="card" style="margin-bottom: 12px;">
              <h2>Interactive architecture diagram</h2>
              <p>
                This embeds your existing Plotly diagram file: <code>architecture-diagram.html</code>.
                Tip: press <span class="kbd">F11</span> for full-screen and zoom browser to 110‚Äì125% for room readability.
              </p>
            </div>
            <div class="iframe-wrap">
              <iframe src="./architecture-diagram.html" title="Architecture Diagram"></iframe>
            </div>
          </div>
          <div class="grid">
            <div class="card" style="grid-column: span 12;">
              <h2>What to highlight (30s)</h2>
              <ul>
                <li><b>Shared WIF</b> removes long‚Äëlived keys (OIDC ‚Üí short‚Äëlived tokens).</li>
                <li><b>3 environments</b> with complete isolation (one VPC per env).</li>
                <li><b>Modules</b>: network, security, iam, compute (repeatable pattern).</li>
                <li><b>Remote state</b>: GCS bucket with separate prefixes per env.</li>
              </ul>
            </div>
            <div class="card" style="grid-column: span 12;">
              <h2>Status summary</h2>
              <div class="badge"><span class="dot ok"></span> Shared WIF: Active</div>
              <div class="badge"><span class="dot ok"></span> Dev: Deployed</div>
              <div class="badge"><span class="dot warn"></span> Staging: Ready</div>
              <div class="badge"><span class="dot warn"></span> Prod: Ready</div>
            </div>
          </div>
        </div>
      </section>

      <section id="tab-flow" class="tab">
        <div class="grid">
          <div class="card" style="grid-column: span 12;">
            <h2>End-to-end CI/CD flow</h2>
            <ul>
              <li><b>Code push / PR</b> triggers GitHub Actions workflows.</li>
              <li><b>Auth via WIF</b>: GitHub issues OIDC token ‚Üí GCP WIF provider validates repository claim ‚Üí impersonate <code>github-actions-sa</code>.</li>
              <li><b>Quality gates</b>: terraform fmt/validate + security scan (e.g., Trivy) before apply.</li>
              <li><b>Plan/apply</b> per environment using its own state prefix in GCS.</li>
              <li><b>Production approval</b> gate (manual approval) before apply.</li>
            </ul>
          </div>

          <div class="card" style="grid-column: span 6;">
            <h2>Why WIF (key message)</h2>
            <ul>
              <li>No stored service account keys in GitHub Secrets.</li>
              <li>Short-lived credentials; reduces blast radius.</li>
              <li>Repository-scoped access via attribute condition.</li>
            </ul>
          </div>
          <div class="card" style="grid-column: span 6;">
            <h2>State management</h2>
            <p>
              GCS bucket: <code>praxis-gear-483220-k4-terraform-state</code>
            </p>
            <ul>
              <li>Shared WIF: <code>shared/wif/terraform-state</code></li>
              <li>Dev: <code>environments/development/terraform-state</code></li>
              <li>Staging: <code>environments/staging/terraform-state</code></li>
              <li>Prod: <code>environments/production/terraform-state</code></li>
            </ul>
          </div>
        </div>
      </section>

      <section id="tab-env" class="tab">
        <div class="grid">
          <div class="card" style="grid-column: span 4;">
            <h2>Development</h2>
            <div class="badge"><span class="dot ok"></span> Deployed</div>
            <ul>
              <li>VPC: <code>development-vpc</code> (10.10.0.0/16)</li>
              <li>VM: <code>development-vm</code> (e2-medium)</li>
              <li>External IP: <code>34.59.39.203</code></li>
              <li>Internal IP: <code>10.10.0.2</code></li>
              <li>Zone: <code>us-central1-a</code></li>
            </ul>
          </div>
          <div class="card" style="grid-column: span 4;">
            <h2>Staging</h2>
            <div class="badge"><span class="dot warn"></span> Ready</div>
            <ul>
              <li>VPC: <code>staging-vpc</code> (10.20.0.0/16)</li>
              <li>VM: <code>staging-vm</code> (e2-standard-2)</li>
              <li>Zone: <code>us-central1-c</code></li>
            </ul>
          </div>
          <div class="card" style="grid-column: span 4;">
            <h2>Production</h2>
            <div class="badge"><span class="dot warn"></span> Ready</div>
            <ul>
              <li>VPC: <code>production-vpc</code> (10.30.0.0/16)</li>
              <li>VM: <code>production-vm</code> (e2-standard-4)</li>
              <li>Zone: <code>us-central1-b</code></li>
              <li>Approval gate before apply</li>
            </ul>
          </div>

          <div class="card" style="grid-column: span 12;">
            <h2>Module composition (per environment)</h2>
            <ul>
              <li><code>modules/network</code>: VPC, subnet (Private Google Access + flow logs), router, NAT.</li>
              <li><code>modules/security</code>: firewall rules (SSH/HTTP(S)/internal/health checks), tag-based targeting.</li>
              <li><code>modules/iam</code>: env service account + least-privilege roles + WIF binding to shared pool.</li>
              <li><code>modules/compute</code>: Shielded VM, OS Login, startup script, SSD disk.</li>
            </ul>
          </div>
        </div>
      </section>

      <section id="tab-security" class="tab">
        <div class="grid">
          <div class="card" style="grid-column: span 6;">
            <h2>Network security</h2>
            <ul>
              <li><b>SSH</b> restricted to private ranges (RFC1918).</li>
              <li><b>HTTP/HTTPS</b> allowed via tag <code>http-allowed</code>.</li>
              <li><b>Internal</b> allowed within subnet CIDR.</li>
              <li><b>Health checks</b> allowed from Google ranges.</li>
            </ul>
          </div>
          <div class="card" style="grid-column: span 6;">
            <h2>Compute hardening</h2>
            <ul>
              <li><b>Shielded VM</b>: secure boot, vTPM, integrity monitoring enabled.</li>
              <li><b>OS Login</b> enabled; block project-wide SSH keys.</li>
              <li><b>Least privilege</b> IAM on VM service accounts.</li>
            </ul>
          </div>
          <div class="card" style="grid-column: span 12;">
            <h2>Why this is enterprise-ready</h2>
            <ul>
              <li><b>Zero key storage</b> (WIF) + audited IAM bindings.</li>
              <li><b>Isolation</b> (one VPC per env) reduces blast radius.</li>
              <li><b>Remote state</b> with consistent prefixes supports team collaboration.</li>
              <li><b>Automation</b> via CI/CD with validation and security scanning.</li>
            </ul>
          </div>
        </div>
      </section>

      <section id="tab-notes" class="tab">
        <div class="grid">
          <div class="card" style="grid-column: span 12;">
            <h2>Suggested presentation script (5‚Äì7 minutes)</h2>
            <ul>
              <li><b>0:00‚Äì0:45</b> ‚Äî What problem this solves: secure, repeatable multi-env infra.</li>
              <li><b>0:45‚Äì2:30</b> ‚Äî Diagram walkthrough: WIF ‚Üí CI/CD ‚Üí env isolation ‚Üí modules.</li>
              <li><b>2:30‚Äì4:00</b> ‚Äî Security highlight: keyless auth, firewall controls, Shielded VM, OS Login.</li>
              <li><b>4:00‚Äì5:30</b> ‚Äî Ops highlight: GCS remote state, promotion flow, approval gates.</li>
              <li><b>5:30‚Äì7:00</b> ‚Äî Q&A: ‚ÄúWhy WIF?‚Äù, ‚ÄúWhy individual VPC?‚Äù, ‚ÄúHow state is handled?‚Äù.</li>
            </ul>
          </div>

          <div class="card" style="grid-column: span 6;">
            <h2>Quick Q&A answers</h2>
            <ul>
              <li><b>Why WIF?</b> No static secrets; short-lived tokens; repository-scoped auth.</li>
              <li><b>Why Individual VPC?</b> Isolation, simpler audits, smaller blast radius.</li>
              <li><b>How safe is prod deploy?</b> Plan + scan + approval gate + remote state.</li>
            </ul>
          </div>

          <div class="card" style="grid-column: span 6;">
            <h2>Demo tips</h2>
            <ul>
              <li>Open this file first: <code>architecture-presentation.html</code></li>
              <li>Use <span class="kbd">F11</span> full screen.</li>
              <li>Keep zoom ~110‚Äì125%.</li>
              <li>Use the tabs to control pace and audience focus.</li>
            </ul>
          </div>
        </div>
      </section>
    </div>
  </div>

  <script>
    const buttons = Array.from(document.querySelectorAll(".tab-btn"));
    const tabs = Array.from(document.querySelectorAll(".tab"));

    function activate(tabId) {
      tabs.forEach(t => t.classList.toggle("active", t.id === tabId));
      buttons.forEach(b => b.classList.toggle("active", b.dataset.tab === tabId));
    }

    buttons.forEach(btn => {
      btn.addEventListener("click", () => activate(btn.dataset.tab));
    });
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GCP Terraform Infrastructure - Architecture Presentation</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.95;
        }

        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #e9ecef;
            overflow-x: auto;
        }

        .tab-button {
            flex: 1;
            min-width: 150px;
            padding: 18px 24px;
            background: transparent;
            border: none;
            cursor: pointer;
            font-size: 1em;
            font-weight: 500;
            color: #495057;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            position: relative;
        }

        .tab-button:hover {
            background: #e9ecef;
            color: #212529;
        }

        .tab-button.active {
            color: #667eea;
            border-bottom-color: #667eea;
            background: white;
        }

        .tab-content {
            display: none;
            padding: 40px;
            min-height: 600px;
            animation: fadeIn 0.4s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .diagram-container {
            width: 100%;
            height: 700px;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            background: white;
        }

        .section {
            margin-bottom: 40px;
        }

        .section h2 {
            color: #667eea;
            font-size: 1.8em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e9ecef;
        }

        .section h3 {
            color: #495057;
            font-size: 1.4em;
            margin: 25px 0 15px 0;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .info-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .info-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .info-card h4 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .info-card p, .info-card ul {
            color: #495057;
            line-height: 1.6;
        }

        .info-card ul {
            margin-left: 20px;
            margin-top: 10px;
        }

        .info-card li {
            margin: 5px 0;
        }

        .flow-diagram {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .flow-step {
            display: flex;
            align-items: center;
            margin: 20px 0;
            padding: 20px;
            background: white;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .flow-step-number {
            background: #667eea;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 20px;
            flex-shrink: 0;
        }

        .flow-step-content {
            flex: 1;
        }

        .flow-step-content h4 {
            color: #212529;
            margin-bottom: 5px;
        }

        .flow-step-content p {
            color: #6c757d;
            margin: 0;
        }

        .arrow {
            text-align: center;
            font-size: 2em;
            color: #667eea;
            margin: 10px 0;
        }

        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.5;
        }

        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.85em;
            font-weight: 500;
            margin: 5px 5px 5px 0;
        }

        .badge-success {
            background: #d4edda;
            color: #155724;
        }

        .badge-warning {
            background: #fff3cd;
            color: #856404;
        }

        .badge-info {
            background: #d1ecf1;
            color: #0c5460;
        }

        .badge-danger {
            background: #f8d7da;
            color: #721c24;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
        }

        table th, table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e9ecef;
        }

        table th {
            background: #667eea;
            color: white;
            font-weight: 600;
        }

        table tr:hover {
            background: #f8f9fa;
        }

        .highlight-box {
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            border-left: 4px solid #667eea;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .highlight-box h4 {
            color: #667eea;
            margin-bottom: 10px;
        }

        @media (max-width: 768px) {
            .tabs {
                flex-direction: column;
            }

            .tab-content {
                padding: 20px;
            }

            .info-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üèóÔ∏è GCP Terraform Infrastructure</h1>
            <p>Enterprise Multi-Environment Architecture with Workload Identity Federation</p>
            <p style="font-size: 0.9em; margin-top: 10px; opacity: 0.9;">Project: praxis-gear-483220-k4 | Individual VPC Pattern</p>
        </div>

        <div class="tabs">
            <button class="tab-button active" onclick="showTab('diagram')">üìä Architecture Diagram</button>
            <button class="tab-button" onclick="showTab('flow')">üîÑ End-to-End Flow</button>
            <button class="tab-button" onclick="showTab('infrastructure')">üèóÔ∏è Infrastructure Details</button>
            <button class="tab-button" onclick="showTab('security')">üîê Security & Compliance</button>
            <button class="tab-button" onclick="showTab('notes')">üìù Presentation Notes</button>
        </div>

        <!-- Tab 1: Architecture Diagram -->
        <div id="diagram" class="tab-content active">
            <div class="section">
                <h2>Interactive Architecture Diagram</h2>
                <p style="margin-bottom: 20px; color: #6c757d;">Hover over nodes for detailed information. Use zoom and pan controls to explore the architecture.</p>
                <div id="architecture-diagram" class="diagram-container"></div>
            </div>
        </div>

        <!-- Tab 2: End-to-End Flow -->
        <div id="flow" class="tab-content">
            <div class="section">
                <h2>CI/CD Pipeline Flow</h2>
                <div class="flow-diagram">
                    <div class="flow-step">
                        <div class="flow-step-number">1</div>
                        <div class="flow-step-content">
                            <h4>Code Push / Pull Request</h4>
                            <p>Developer pushes code to GitHub repository (surajkmr39-lang/GCP-Terraform) or creates a PR</p>
                        </div>
                    </div>
                    <div class="arrow">‚Üì</div>
                    <div class="flow-step">
                        <div class="flow-step-number">2</div>
                        <div class="flow-step-content">
                            <h4>GitHub Actions Trigger</h4>
                            <p>Workflow triggers automatically on push/PR. Multiple workflows available: WIF auth test, infrastructure deployment, complete CI/CD pipeline</p>
                        </div>
                    </div>
                    <div class="arrow">‚Üì</div>
                    <div class="flow-step">
                        <div class="flow-step-number">3</div>
                        <div class="flow-step-content">
                            <h4>Workload Identity Federation Authentication</h4>
                            <p>GitHub Actions requests OIDC token from GitHub. Token includes repository claim. WIF Provider validates token and maps to GCP service account (github-actions-sa)</p>
                            <div class="code-block" style="margin-top: 10px;">
workload_identity_provider: projects/251838763754/locations/global/workloadIdentityPools/github-actions-pool/providers/github-actions
service_account: github-actions-sa@praxis-gear-483220-k4.iam.gserviceaccount.com
                            </div>
                        </div>
                    </div>
                    <div class="arrow">‚Üì</div>
                    <div class="flow-step">
                        <div class="flow-step-number">4</div>
                        <div class="flow-step-content">
                            <h4>Security Scanning & Validation</h4>
                            <p>Terraform format check, validation, and security scanning (Trivy) run in parallel. Any failures stop the pipeline</p>
                        </div>
                    </div>
                    <div class="arrow">‚Üì</div>
                    <div class="flow-step">
                        <div class="flow-step-number">5</div>
                        <div class="flow-step-content">
                            <h4>Terraform Plan</h4>
                            <p>For each environment (dev/staging/prod), Terraform plan is generated. Plans are uploaded as artifacts for review</p>
                        </div>
                    </div>
                    <div class="arrow">‚Üì</div>
                    <div class="flow-step">
                        <div class="flow-step-number">6</div>
                        <div class="flow-step-content">
                            <h4>Approval Gate (Production Only)</h4>
                            <p>Production deployments require manual approval. Development and staging deploy automatically after validation</p>
                        </div>
                    </div>
                    <div class="arrow">‚Üì</div>
                    <div class="flow-step">
                        <div class="flow-step-number">7</div>
                        <div class="flow-step-content">
                            <h4>Terraform Apply</h4>
                            <p>Infrastructure changes are applied to GCP. State is stored in GCS bucket (praxis-gear-483220-k4-terraform-state) with environment-specific prefixes</p>
                        </div>
                    </div>
                    <div class="arrow">‚Üì</div>
                    <div class="flow-step">
                        <div class="flow-step-number">8</div>
                        <div class="flow-step-content">
                            <h4>Validation & Monitoring</h4>
                            <p>Deployment success is validated. Monitoring and logging are automatically configured. Notifications sent if configured</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>Deployment Flow by Environment</h2>
                <div class="info-grid">
                    <div class="info-card">
                        <h4>üü¢ Development</h4>
                        <ul>
                            <li>Status: <span class="badge badge-success">DEPLOYED</span></li>
                            <li>Auto-deploy: Yes</li>
                            <li>Approval: Not required</li>
                            <li>VM: e2-medium</li>
                            <li>External IP: 34.59.39.203</li>
                        </ul>
                    </div>
                    <div class="info-card">
                        <h4>üü° Staging</h4>
                        <ul>
                            <li>Status: <span class="badge badge-warning">READY</span></li>
                            <li>Auto-deploy: Yes</li>
                            <li>Approval: Not required</li>
                            <li>VM: e2-standard-2</li>
                            <li>Zone: us-central1-c</li>
                        </ul>
                    </div>
                    <div class="info-card">
                        <h4>üî¥ Production</h4>
                        <ul>
                            <li>Status: <span class="badge badge-warning">READY</span></li>
                            <li>Auto-deploy: Yes (with approval)</li>
                            <li>Approval: <span class="badge badge-danger">REQUIRED</span></li>
                            <li>VM: e2-standard-4</li>
                            <li>Zone: us-central1-b</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 3: Infrastructure Details -->
        <div id="infrastructure" class="tab-content">
            <div class="section">
                <h2>Environment Configurations</h2>
                
                <h3>Development Environment</h3>
                <table>
                    <tr>
                        <th>Component</th>
                        <th>Configuration</th>
                        <th>Status</th>
                    </tr>
                    <tr>
                        <td>VPC</td>
                        <td>development-vpc (10.10.0.0/16)</td>
                        <td><span class="badge badge-success">ACTIVE</span></td>
                    </tr>
                    <tr>
                        <td>Subnet</td>
                        <td>development-subnet (us-central1)</td>
                        <td><span class="badge badge-success">ACTIVE</span></td>
                    </tr>
                    <tr>
                        <td>VM Instance</td>
                        <td>development-vm (e2-medium)</td>
                        <td><span class="badge badge-success">RUNNING</span></td>
                    </tr>
                    <tr>
                        <td>External IP</td>
                        <td>34.59.39.203</td>
                        <td><span class="badge badge-success">ACTIVE</span></td>
                    </tr>
                    <tr>
                        <td>Internal IP</td>
                        <td>10.10.0.2</td>
                        <td><span class="badge badge-success">ACTIVE</span></td>
                    </tr>
                    <tr>
                        <td>Zone</td>
                        <td>us-central1-a</td>
                        <td><span class="badge badge-success">ACTIVE</span></td>
                    </tr>
                    <tr>
                        <td>Cloud NAT</td>
                        <td>development-nat (auto IP allocation)</td>
                        <td><span class="badge badge-success">ACTIVE</span></td>
                    </tr>
                    <tr>
                        <td>Service Account</td>
                        <td>development-vm-sa</td>
                        <td><span class="badge badge-success">ACTIVE</span></td>
                    </tr>
                </table>

                <h3>Staging Environment</h3>
                <table>
                    <tr>
                        <th>Component</th>
                        <th>Configuration</th>
                        <th>Status</th>
                    </tr>
                    <tr>
                        <td>VPC</td>
                        <td>staging-vpc (10.20.0.0/16)</td>
                        <td><span class="badge badge-warning">READY</span></td>
                    </tr>
                    <tr>
                        <td>Subnet</td>
                        <td>staging-subnet (us-central1)</td>
                        <td><span class="badge badge-warning">READY</span></td>
                    </tr>
                    <tr>
                        <td>VM Instance</td>
                        <td>staging-vm (e2-standard-2)</td>
                        <td><span class="badge badge-warning">READY</span></td>
                    </tr>
                    <tr>
                        <td>Zone</td>
                        <td>us-central1-c</td>
                        <td><span class="badge badge-warning">READY</span></td>
                    </tr>
                    <tr>
                        <td>Cloud NAT</td>
                        <td>staging-nat (auto IP allocation)</td>
                        <td><span class="badge badge-warning">READY</span></td>
                    </tr>
                    <tr>
                        <td>Service Account</td>
                        <td>staging-vm-sa</td>
                        <td><span class="badge badge-warning">READY</span></td>
                    </tr>
                </table>

                <h3>Production Environment</h3>
                <table>
                    <tr>
                        <th>Component</th>
                        <th>Configuration</th>
                        <th>Status</th>
                    </tr>
                    <tr>
                        <td>VPC</td>
                        <td>production-vpc (10.30.0.0/16)</td>
                        <td><span class="badge badge-warning">READY</span></td>
                    </tr>
                    <tr>
                        <td>Subnet</td>
                        <td>production-subnet (us-central1)</td>
                        <td><span class="badge badge-warning">READY</span></td>
                    </tr>
                    <tr>
                        <td>VM Instance</td>
                        <td>production-vm (e2-standard-4)</td>
                        <td><span class="badge badge-warning">READY</span></td>
                    </tr>
                    <tr>
                        <td>Zone</td>
                        <td>us-central1-b</td>
                        <td><span class="badge badge-warning">READY</span></td>
                    </tr>
                    <tr>
                        <td>Cloud NAT</td>
                        <td>production-nat (auto IP allocation)</td>
                        <td><span class="badge badge-warning">READY</span></td>
                    </tr>
                    <tr>
                        <td>Service Account</td>
                        <td>production-vm-sa</td>
                        <td><span class="badge badge-warning">READY</span></td>
                    </tr>
                </table>
            </div>

            <div class="section">
                <h2>Terraform Modules</h2>
                <div class="info-grid">
                    <div class="info-card">
                        <h4>modules/network</h4>
                        <ul>
                            <li>VPC creation (auto_create_subnetworks = false)</li>
                            <li>Subnet with private Google access</li>
                            <li>Cloud Router</li>
                            <li>Cloud NAT (auto IP allocation)</li>
                            <li>VPC Flow Logs enabled</li>
                        </ul>
                    </div>
                    <div class="info-card">
                        <h4>modules/security</h4>
                        <ul>
                            <li>SSH firewall rule (private ranges only)</li>
                            <li>HTTP/HTTPS firewall rule</li>
                            <li>Internal communication rule</li>
                            <li>Health check firewall rule</li>
                            <li>Tag-based targeting</li>
                        </ul>
                    </div>
                    <div class="info-card">
                        <h4>modules/iam</h4>
                        <ul>
                            <li>Environment-specific service accounts</li>
                            <li>Least privilege IAM roles</li>
                            <li>WIF binding to shared pool</li>
                            <li>Compute, Storage, Logging, Monitoring permissions</li>
                        </ul>
                    </div>
                    <div class="info-card">
                        <h4>modules/compute</h4>
                        <ul>
                            <li>Shielded VM (secure boot, vTPM, integrity monitoring)</li>
                            <li>OS Login enabled</li>
                            <li>Startup scripts support</li>
                            <li>SSD boot disks</li>
                            <li>Service account attachment</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>State Management</h2>
                <div class="highlight-box">
                    <h4>Remote Backend: Google Cloud Storage</h4>
                    <p><strong>Bucket:</strong> praxis-gear-483220-k4-terraform-state</p>
                    <p><strong>State Paths:</strong></p>
                    <ul>
                        <li>Shared WIF: <code>shared/wif/terraform-state</code></li>
                        <li>Development: <code>environments/development/terraform-state</code></li>
                        <li>Staging: <code>environments/staging/terraform-state</code></li>
                        <li>Production: <code>environments/production/terraform-state</code></li>
                    </ul>
                    <p style="margin-top: 15px;"><strong>Benefits:</strong> State locking, versioning, team collaboration, disaster recovery</p>
                </div>
            </div>
        </div>

        <!-- Tab 4: Security & Compliance -->
        <div id="security" class="tab-content">
            <div class="section">
                <h2>Workload Identity Federation</h2>
                <div class="highlight-box">
                    <h4>Keyless Authentication Architecture</h4>
                    <p>Eliminates the need for stored service account keys by using OIDC tokens from GitHub Actions.</p>
                </div>
                
                <div class="info-grid">
                    <div class="info-card">
                        <h4>WIF Pool</h4>
                        <p><strong>Name:</strong> github-actions-pool</p>
                        <p><strong>Location:</strong> global</p>
                        <p><strong>Status:</strong> <span class="badge badge-success">ACTIVE</span></p>
                    </div>
                    <div class="info-card">
                        <h4>WIF Provider</h4>
                        <p><strong>Name:</strong> github-actions</p>
                        <p><strong>Type:</strong> OIDC</p>
                        <p><strong>Issuer:</strong> token.actions.githubusercontent.com</p>
                    </div>
                    <div class="info-card">
                        <h4>Service Account</h4>
                        <p><strong>Email:</strong> github-actions-sa@praxis-gear-483220-k4.iam.gserviceaccount.com</p>
                        <p><strong>Roles:</strong> compute.admin, iam.serviceAccountAdmin, storage.admin, resourcemanager.projectIamAdmin</p>
                    </div>
                    <div class="info-card">
                        <h4>Repository Binding</h4>
                        <p><strong>Repository:</strong> surajkmr39-lang/GCP-Terraform</p>
                        <p><strong>Attribute Condition:</strong> assertion.repository == 'surajkmr39-lang/GCP-Terraform'</p>
                        <p><strong>Security:</strong> Only this repository can authenticate</p>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>Network Security</h2>
                <div class="info-grid">
                    <div class="info-card">
                        <h4>VPC Isolation</h4>
                        <ul>
                            <li>Individual VPC per environment</li>
                            <li>Complete network separation</li>
                            <li>No cross-environment routing</li>
                            <li>Blast radius limitation</li>
                        </ul>
                    </div>
                    <div class="info-card">
                        <h4>Firewall Rules</h4>
                        <ul>
                            <li>SSH: Restricted to private IP ranges (10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16)</li>
                            <li>HTTP/HTTPS: Public access (0.0.0.0/0)</li>
                            <li>Internal: Subnet-only communication</li>
                            <li>Health Checks: Google Cloud health check ranges</li>
                        </ul>
                    </div>
                    <div class="info-card">
                        <h4>Cloud NAT</h4>
                        <ul>
                            <li>Secure outbound internet access</li>
                            <li>No inbound connections</li>
                            <li>Auto IP allocation</li>
                            <li>Logging enabled (errors only)</li>
                        </ul>
                    </div>
                    <div class="info-card">
                        <h4>VPC Flow Logs</h4>
                        <ul>
                            <li>Enabled on all subnets</li>
                            <li>10-minute aggregation interval</li>
                            <li>50% flow sampling</li>
                            <li>Full metadata included</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>Compute Security</h2>
                <div class="info-grid">
                    <div class="info-card">
                        <h4>Shielded VM</h4>
                        <ul>
                            <li>Secure Boot: Enabled</li>
                            <li>vTPM: Enabled</li>
                            <li>Integrity Monitoring: Enabled</li>
                            <li>Protection against rootkits and boot-level attacks</li>
                        </ul>
                    </div>
                    <div class="info-card">
                        <h4>OS Login</h4>
                        <ul>
                            <li>Enabled on all VMs</li>
                            <li>Centralized SSH key management</li>
                            <li>IAM-based access control</li>
                            <li>Audit logging for SSH access</li>
                        </ul>
                    </div>
                    <div class="info-card">
                        <h4>Service Accounts</h4>
                        <ul>
                            <li>Environment-specific service accounts</li>
                            <li>Least privilege principle</li>
                            <li>No default compute service account</li>
                            <li>WIF binding for CI/CD</li>
                        </ul>
                    </div>
                    <div class="info-card">
                        <h4>IAM Roles</h4>
                        <ul>
                            <li>compute.viewer</li>
                            <li>storage.objectViewer</li>
                            <li>logging.logWriter</li>
                            <li>monitoring.metricWriter</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>Compliance & Best Practices</h2>
                <div class="highlight-box">
                    <h4>Enterprise Security Standards</h4>
                    <ul>
                        <li>‚úÖ Zero stored credentials (WIF eliminates service account keys)</li>
                        <li>‚úÖ Network isolation between environments</li>
                        <li>‚úÖ Least privilege IAM policies</li>
                        <li>‚úÖ Comprehensive audit logging</li>
                        <li>‚úÖ Infrastructure as Code (100% Terraform managed)</li>
                        <li>‚úÖ Automated security scanning in CI/CD</li>
                        <li>‚úÖ State encryption and locking</li>
                        <li>‚úÖ Resource tagging for cost attribution</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Tab 5: Presentation Notes -->
        <div id="notes" class="tab-content">
            <div class="section">
                <h2>Key Talking Points</h2>
                
                <div class="info-card" style="margin-bottom: 20px;">
                    <h4>üèóÔ∏è Architecture Pattern</h4>
                    <p><strong>Individual VPC per Environment</strong> - This is the most common enterprise pattern (used by 80% of companies) because it provides:</p>
                    <ul>
                        <li>Complete network isolation</li>
                        <li>Easier compliance validation</li>
                        <li>Blast radius limitation</li>
                        <li>Team autonomy</li>
                    </ul>
                </div>

                <div class="info-card" style="margin-bottom: 20px;">
                    <h4>üîê Security Innovation</h4>
                    <p><strong>Workload Identity Federation</strong> - The key differentiator:</p>
                    <ul>
                        <li>No stored service account keys (eliminates credential leakage risk)</li>
                        <li>OIDC token-based authentication</li>
                        <li>Repository-scoped access</li>
                        <li>Industry best practice for CI/CD</li>
                    </ul>
                </div>

                <div class="info-card" style="margin-bottom: 20px;">
                    <h4>‚ö° Operational Excellence</h4>
                    <ul>
                        <li>100% Infrastructure as Code (Terraform)</li>
                        <li>Automated CI/CD with GitHub Actions</li>
                        <li>Multi-environment support (dev/staging/prod)</li>
                        <li>Remote state management (GCS)</li>
                        <li>Comprehensive monitoring and logging</li>
                    </ul>
                </div>

                <div class="info-card" style="margin-bottom: 20px;">
                    <h4>üí∞ Cost Optimization</h4>
                    <ul>
                        <li>Development: $18-24/month (e2-medium)</li>
                        <li>Staging: $25-35/month (e2-standard-2)</li>
                        <li>Production: $45-60/month (e2-standard-4)</li>
                        <li>Total: ~$88-119/month for complete enterprise setup</li>
                        <li>Right-sized resources with proper tagging</li>
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2>Demo Script</h2>
                
                <h3>Opening (30 seconds)</h3>
                <div class="flow-step">
                    <div class="flow-step-number">1</div>
                    <div class="flow-step-content">
                        <h4>Introduce the Project</h4>
                        <p>"I've built an enterprise-grade GCP infrastructure using Terraform that demonstrates modern cloud architecture patterns. This is a production-ready setup with three environments, automated CI/CD, and zero stored credentials."</p>
                    </div>
                </div>

                <h3>Architecture Overview (2 minutes)</h3>
                <div class="flow-step">
                    <div class="flow-step-number">2</div>
                    <div class="flow-step-content">
                        <h4>Show the Diagram Tab</h4>
                        <p>"The architecture follows the Individual VPC pattern - each environment has complete network isolation. Notice the shared Workload Identity Federation at the top - this is our keyless authentication system."</p>
                        <p><strong>Point out:</strong> Three environments, shared WIF, modular Terraform structure</p>
                    </div>
                </div>

                <h3>CI/CD Flow (2 minutes)</h3>
                <div class="flow-step">
                    <div class="flow-step-number">3</div>
                    <div class="flow-step-content">
                        <h4>Show End-to-End Flow Tab</h4>
                        <p>"When code is pushed, GitHub Actions authenticates using WIF - no stored keys. The pipeline validates, scans for security issues, generates Terraform plans, and deploys. Production requires manual approval."</p>
                        <p><strong>Highlight:</strong> Keyless authentication, security scanning, approval gates</p>
                    </div>
                </div>

                <h3>Security Deep Dive (2 minutes)</h3>
                <div class="flow-step">
                    <div class="flow-step-number">4</div>
                    <div class="flow-step-content">
                        <h4>Show Security & Compliance Tab</h4>
                        <p>"Security is built-in at every layer: network isolation, Shielded VMs, least privilege IAM, comprehensive logging. The WIF setup means we have zero stored credentials - a major security win."</p>
                        <p><strong>Emphasize:</strong> WIF eliminates credential risk, network isolation, audit logging</p>
                    </div>
                </div>

                <h3>Infrastructure Details (1 minute)</h3>
                <div class="flow-step">
                    <div class="flow-step-number">5</div>
                    <div class="flow-step-content">
                        <h4>Show Infrastructure Details Tab</h4>
                        <p>"Each environment is fully configured with VPCs, VMs, firewalls, and service accounts. Development is deployed and running. Staging and production are validated and ready to deploy."</p>
                        <p><strong>Mention:</strong> Modular design, remote state, environment parity</p>
                    </div>
                </div>

                <h3>Closing (30 seconds)</h3>
                <div class="flow-step">
                    <div class="flow-step-number">6</div>
                    <div class="flow-step-content">
                        <h4>Key Takeaways</h4>
                        <p>"This demonstrates enterprise-grade infrastructure: secure, scalable, automated, and cost-effective. The Individual VPC pattern provides isolation, WIF eliminates credential risks, and everything is managed as code."</p>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>Technical Questions & Answers</h2>
                
                <div class="info-card" style="margin-bottom: 15px;">
                    <h4>Q: "Why Individual VPC instead of Shared VPC?"</h4>
                    <p><strong>A:</strong> "For this scale (3 environments), Individual VPC provides better isolation, simpler compliance validation, and team autonomy. Shared VPC is better for 50+ projects with complex networking needs. This pattern is used by 80% of companies including Netflix and Spotify."</p>
                </div>

                <div class="info-card" style="margin-bottom: 15px;">
                    <h4>Q: "How does Workload Identity Federation work?"</h4>
                    <p><strong>A:</strong> "GitHub Actions requests an OIDC token from GitHub, which includes repository claims. Our WIF Provider validates this token and maps it to our GCP service account. No keys are stored - authentication happens via temporary tokens. This is Google's recommended approach for CI/CD."</p>
                </div>

                <div class="info-card" style="margin-bottom: 15px;">
                    <h4>Q: "How do you handle state management?"</h4>
                    <p><strong>A:</strong> "We use GCS remote backend with separate state files per environment. This provides state locking, versioning, and team collaboration. The shared WIF infrastructure has its own state file, separate from environments."</p>
                </div>

                <div class="info-card" style="margin-bottom: 15px;">
                    <h4>Q: "What's your disaster recovery strategy?"</h4>
                    <p><strong>A:</strong> "State files are versioned in GCS. We can recreate any environment from Terraform code. The modular design means we can rebuild individual environments without affecting others. All infrastructure is version-controlled in GitHub."</p>
                </div>

                <div class="info-card" style="margin-bottom: 15px;">
                    <h4>Q: "How do you ensure security?"</h4>
                    <p><strong>A:</strong> "Multiple layers: network isolation, Shielded VMs, least privilege IAM, WIF eliminates credential storage, automated security scanning in CI/CD, comprehensive audit logging, and firewall rules restricting SSH to private ranges only."</p>
                </div>
            </div>

            <div class="section">
                <h2>Quick Reference</h2>
                <div class="highlight-box">
                    <h4>Key Metrics</h4>
                    <ul>
                        <li><strong>Environments:</strong> 3 (dev deployed, staging/prod ready)</li>
                        <li><strong>Terraform Modules:</strong> 4 (network, security, iam, compute)</li>
                        <li><strong>Resources per Environment:</strong> ~14-15</li>
                        <li><strong>State Management:</strong> GCS remote backend</li>
                        <li><strong>CI/CD:</strong> GitHub Actions with WIF</li>
                        <li><strong>Cost:</strong> ~$88-119/month total</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showTab(tabName) {
            // Hide all tabs
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Remove active class from all buttons
            const buttons = document.querySelectorAll('.tab-button');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
            
            // If diagram tab, ensure it's rendered
            if (tabName === 'diagram') {
                setTimeout(() => {
                    if (typeof architectureDiagramData !== 'undefined') {
                        Plotly.newPlot('architecture-diagram', architectureDiagramData.data, architectureDiagramData.layout, architectureDiagramData.config);
                    } else {
                        loadArchitectureDiagram();
                    }
                }, 100);
            }
        }

        function loadArchitectureDiagram() {
            const diagramData = {"data":[{"hoverinfo":"none","line":{"color":"#7f8c8d","width":2},"mode":"lines","showlegend":false,"x":[12,33,null,33,58,null,58,82,null,33,82,null,58,18,null,58,50,null,58,82,null,18,28,null,8,28,null,18,28,null,50,60,null,40,60,null,50,60,null,82,92,null,72,92,null,82,92,null,50,18,null,50,50,null,50,82,null,80,18,null,80,50,null,80,82,null,80,58,null],"y":[86,86,null,86,86,null,86,86,null,86,86,null,86,45,null,86,45,null,86,45,null,55,45,null,45,45,null,45,45,null,55,45,null,45,45,null,45,45,null,55,45,null,45,45,null,45,45,null,18,55,null,18,55,null,18,55,null,18,55,null,18,55,null,18,55,null,18,86,null],"type":"scatter"},{"hoverinfo":"text","hovertext":["\u003cb\u003eGitHub Repository\u003c\u002fb\u003e\u003cbr\u003esurajkmr39-lang\u002fGCP-Terraform","\u003cb\u003eCI\u002fCD\u003c\u002fb\u003e\u003cbr\u003eValidation \u2192 Security Scan \u2192 Terraform Plan\u002fApply","\u003cb\u003eWorkload Identity Federation\u003c\u002fb\u003e\u003cbr\u003ePool: github-actions-pool\u003cbr\u003eProvider: github-actions\u003cbr\u003eService Account: github-actions-sa","\u003cb\u003eGCP Project\u003c\u002fb\u003e\u003cbr\u003epraxis-gear-483220-k4","\u003cb\u003eDevelopment VPC\u003c\u002fb\u003e\u003cbr\u003edevelopment-vpc\u003cbr\u003eCIDR: 10.10.0.0\u002f16","\u003cb\u003eSecurity\u003c\u002fb\u003e\u003cbr\u003eFirewall rules: SSH \u002f HTTP(S) \u002f Internal \u002f Health Checks","\u003cb\u003eIAM\u003c\u002fb\u003e\u003cbr\u003eService Account: development-vm-sa\u003cbr\u003eRoles: compute.viewer, storage.objectViewer, logging.logWriter, monitoring.metricWriter","\u003cb\u003eCompute\u003c\u002fb\u003e\u003cbr\u003edevelopment-vm\u003cbr\u003eMachine: e2-medium\u003cbr\u003eExternal IP: 34.59.39.203","\u003cb\u003eStaging VPC\u003c\u002fb\u003e\u003cbr\u003estaging-vpc\u003cbr\u003eCIDR: 10.20.0.0\u002f16","\u003cb\u003eSecurity\u003c\u002fb\u003e\u003cbr\u003eFirewall rules aligned to staging environment","\u003cb\u003eIAM\u003c\u002fb\u003e\u003cbr\u003eService Account: staging-vm-sa\u003cbr\u003eWIF binding to shared pool","\u003cb\u003eCompute\u003c\u002fb\u003e\u003cbr\u003estaging-vm\u003cbr\u003eMachine: e2-standard-2","\u003cb\u003eProduction VPC\u003c\u002fb\u003e\u003cbr\u003eproduction-vpc\u003cbr\u003eCIDR: 10.30.0.0\u002f16","\u003cb\u003eSecurity\u003c\u002fb\u003e\u003cbr\u003eFirewall rules aligned to production environment","\u003cb\u003eIAM\u003c\u002fb\u003e\u003cbr\u003eService Account: production-vm-sa\u003cbr\u003eWIF binding to shared pool","\u003cb\u003eCompute\u003c\u002fb\u003e\u003cbr\u003eproduction-vm\u003cbr\u003eMachine: e2-standard-4","\u003cb\u003eModules\u003c\u002fb\u003e\u003cbr\u003e\u003ccode\u003emodules\u002fnetwork\u003c\u002fcode\u003e: VPC, Subnet, Router, NAT, Flow Logs\u003cbr\u003e\u003ccode\u003emodules\u002fsecurity\u003c\u002fcode\u003e: Firewall rules\u003cbr\u003e\u003ccode\u003emodules\u002fiam\u003c\u002fcode\u003e: env SAs + WIF binding\u003cbr\u003e\u003ccode\u003emodules\u002fcompute\u003c\u002fcode\u003e: Shielded VM, OS Login","\u003cb\u003eState\u003c\u002fb\u003e\u003cbr\u003eBackend: GCS bucket praxis-gear-483220-k4-terraform-state\u003cbr\u003eSeparate prefixes per environment + shared\u002fwif"],"marker":{"color":["#2d9cdb","#2d9cdb","#f2994a","#34495e","#27ae60","#27ae60","#27ae60","#27ae60","#f2c94c","#f2c94c","#f2c94c","#f2c94c","#eb5757","#eb5757","#eb5757","#eb5757","#34495e","#34495e"],"line":{"color":"#ffffff","width":2},"size":26},"mode":"markers+text","showlegend":false,"text":["GitHub Repo","GitHub Actions","Shared WIF","GCP Project","Dev VPC","Dev FW","Dev IAM","Dev VM","Staging VPC","Staging FW","Staging IAM","Staging VM","Prod VPC","Prod FW","Prod IAM","Prod VM","Terraform Modules","GCS Remote State"],"textfont":{"color":"#1b2631","size":13},"textposition":"bottom center","x":[12,33,58,82,18,8,18,28,50,40,50,60,82,72,82,92,50,80],"y":[86,86,86,86,55,45,45,45,55,45,45,45,55,45,45,45,18,18],"type":"scatter"}],"layout":{"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"fillcolor":"#fbfcfc","layer":"below","line":{"color":"#d0d3d4","width":1.2},"opacity":1,"type":"rect","x0":3,"x1":97,"y0":76,"y1":97},{"fillcolor":"#ecfdf3","layer":"below","line":{"color":"#d0d3d4","width":1.2},"opacity":1,"type":"rect","x0":3,"x1":33,"y0":32,"y1":74},{"fillcolor":"#fffaf0","layer":"below","line":{"color":"#d0d3d4","width":1.2},"opacity":1,"type":"rect","x0":36,"x1":66,"y0":32,"y1":74},{"fillcolor":"#fff5f5","layer":"below","line":{"color":"#d0d3d4","width":1.2},"opacity":1,"type":"rect","x0":69,"x1":97,"y0":32,"y1":74},{"fillcolor":"#fbfcfc","layer":"below","line":{"color":"#d0d3d4","width":1.2},"opacity":1,"type":"rect","x0":3,"x1":97,"y0":6,"y1":28}],"annotations":[{"font":{"color":"#2c3e50","size":13},"showarrow":false,"text":"\u003cb\u003eCI\u002fCD & Authentication\u003c\u002fb\u003e","x":4.0,"xanchor":"left","y":95.5},{"font":{"color":"#2c3e50","size":13},"showarrow":false,"text":"\u003cb\u003eDevelopment (dev)\u003c\u002fb\u003e","x":4.0,"xanchor":"left","y":72.5},{"font":{"color":"#2c3e50","size":13},"showarrow":false,"text":"\u003cb\u003eStaging (staging)\u003c\u002fb\u003e","x":37.0,"xanchor":"left","y":72.5},{"font":{"color":"#2c3e50","size":13},"showarrow":false,"text":"\u003cb\u003eProduction (prod)\u003c\u002fb\u003e","x":70.0,"xanchor":"left","y":72.5},{"font":{"color":"#2c3e50","size":13},"showarrow":false,"text":"\u003cb\u003eTerraform modules + state\u003c\u002fb\u003e","x":4.0,"xanchor":"left","y":26.5}],"title":{"font":{"size":22},"text":"GCP Terraform Architecture (Individual VPC per Environment + Shared WIF)","x":0.5,"xanchor":"center"},"xaxis":{"visible":false,"range":[0,100],"fixedrange":true},"yaxis":{"visible":false,"range":[0,100],"fixedrange":true},"margin":{"l":24,"r":24,"t":80,"b":24},"hoverlabel":{"font":{"size":12},"bgcolor":"#ffffff"},"showlegend":false,"plot_bgcolor":"#ffffff","paper_bgcolor":"#ffffff","height":700}};
            Plotly.newPlot('architecture-diagram', diagramData.data, diagramData.layout, diagramData.config);
            // Store for tab switching
            window.architectureDiagramData = diagramData;
            // This will be replaced by generate-presentation.py with actual Plotly diagram data
        }

        // Load diagram on page load
        window.addEventListener('load', () => {
            loadArchitectureDiagram();
        });
    </script>
</body>
</html>

